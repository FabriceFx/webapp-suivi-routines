<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <meta charset="utf-8">
    <title>App Suivi Routines</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <?!= include('Style'); ?>
  </head>
  <body>
    <div class="container" style="max-width: 900px;"> 
      
      <ul class="nav nav-pills nav-fill mb-4 bg-white rounded shadow-sm p-1">
        <li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#saisie">üìù Saisie</button></li>
        <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#suivi">üìä Tableau de bord</button></li>
      </ul>

      <div class="tab-content">
        
        <div class="tab-pane fade show active" id="saisie">
          <div class="card p-4" style="max-width: 500px; margin: auto;">
            <h4 class="text-center mb-4 text-primary">Loguer une activit√©</h4>
            
            <div class="mb-3">
              <label for="dateSaisie" class="form-label text-muted small">Date de r√©alisation</label>
              <input type="date" id="dateSaisie" class="form-control form-control-lg">
            </div>

            <div class="mb-3">
               <select id="selectRoutine" class="form-select form-select-lg">
                 <option selected disabled>Chargement...</option>
               </select>
            </div>

            <div id="divQuantite" class="mb-4 d-none bg-light p-3 rounded">
              <label id="lblQuantite" class="form-label text-muted small fw-bold">Quantit√©</label>
              <div class="input-group input-group-lg">
                <input type="number" id="inputValeur" class="form-control" step="0.1" placeholder="Ex: 10">
                <span class="input-group-text" id="addonUnite">unit</span>
              </div>
            </div>
            
            <button class="btn btn-primary btn-lg w-100 mb-2" id="btnValider">Valider</button>
            <button class="btn btn-outline-danger btn-sm w-100" id="btnAnnuler">Annuler la derni√®re</button>
            <div id="msgBox" class="alert mt-3 d-none text-center"></div>
          </div>
        </div>

        <div class="tab-pane fade" id="suivi">
          <div class="card p-3 mb-3">
            <div class="row g-2">
              <div class="col-4"><select id="selectAnnee" class="form-select"></select></div>
              <div class="col-8">
                <select id="selectMois" class="form-select">
                  <option value="1">Janvier</option><option value="2">F√©vrier</option><option value="3">Mars</option>
                  <option value="4">Avril</option><option value="5">Mai</option><option value="6">Juin</option>
                  <option value="7">Juillet</option><option value="8">Ao√ªt</option><option value="9">Septembre</option>
                  <option value="10">Octobre</option><option value="11">Novembre</option><option value="12">D√©cembre</option>
                </select>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="card p-3">
                <h6 class="text-center text-muted">R√©partition par Routine</h6>
                <div class="chart-box"><canvas id="pieChart"></canvas></div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="card p-3">
                <h6 class="text-center text-muted">Constance Quotidienne</h6>
                <div class="chart-box"><canvas id="lineChart"></canvas></div>
              </div>
            </div>
          </div>

          <div class="card p-3 mt-3">
            <h5 class="mb-3">D√©tail journalier (Heatmap)</h5>
            <div class="table-responsive">
              <table class="table table-bordered table-sm matrix-table" id="matrixTable">
                <thead></thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <?!= include('JavaScript'); ?>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
